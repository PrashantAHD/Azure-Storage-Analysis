# Azure Storage Analysis

## Overview
This project provides a comprehensive analysis of Azure Storage usage and costs. It processes Azure storage data, generates enhanced reports, and offers actionable recommendations to optimize storage usage and reduce costs.

## Analysis Scope
- **Data Sources:**
  - Raw Azure storage usage and billing CSV exports
  - Enhanced Excel reports generated by the analysis script
- **Metrics Analyzed:**
  - Storage account usage (by type, region, and SKU)
  - Cost breakdowns (monthly, by resource, by storage class)
  - Growth trends and historical usage
  - Unused or underutilized storage resources
  - Recommendations for cost savings and optimization

## Recommendations Provided
- Identify unused or infrequently accessed storage accounts and blobs
- Suggest moving data to lower-cost storage tiers (e.g., Cool, Archive)
- Highlight opportunities for lifecycle management and automation
- Recommend deletion or consolidation of redundant resources
- Provide insights on data redundancy and geo-replication settings

## Project Structure
- `azure_storage_analysis/`: Core package with modular analysis logic
   - `core.py`, `auth.py`, `reporting.py`, `recommendations.py`, `utils.py`
- `cli.py`: Main entry point to run the analysis
- `azure_storage_analysis_*.csv`: Raw Azure storage data exports
- `azure_storage_analysis_enhanced_*.xlsx`: Enhanced analysis reports
- `requirements.txt`: Python dependencies

## How to Run the Analysis


### Prerequisites
- Python 3.8 or higher
- Required Python packages (see below)
- Azure CLI (for authentication and subscription management)
- Azure storage usage CSV export (download from Azure Portal)

#### Azure CLI Setup
1. Download and install the Azure CLI from the official site:
   https://docs.microsoft.com/en-us/cli/azure/install-azure-cli
2. After installation, open a new terminal and run:
   ```powershell
   az login
   ```
   This will open a browser window for you to authenticate with your Azure account.
3. (Optional) Set your default subscription:
   ```powershell
   az account set --subscription "<your-subscription-name-or-id>"
   ```
4. Verify your login and subscription:
   ```powershell
   az account show
   ```

### Installation
1. Clone this repository:
   ```powershell
   git clone git@github.com:PrashantAHD/Azure-Storage-Analysis.git
   cd Azure-Storage-Analysis
   ```
2. (Optional) Create and activate a virtual environment:
   ```powershell
   python -m venv venv
   .\venv\Scripts\activate
   ```
3. Install required packages:
   ```powershell
   pip install -r requirements.txt
   ```
   If `requirements.txt` is not present, install common dependencies:
   ```powershell
   pip install pandas openpyxl
   ```

### Usage
1. Place your Azure storage CSV export in the project directory.

2. Run the analysis using the CLI entry point:
   ```powershell
   python cli.py --auto
   ```
   You can use additional command-line options for advanced usage. For help:
   ```powershell
   python cli.py --help
   ```
3. The script will generate an enhanced Excel report with recommendations.

### Output
- Enhanced Excel report: `azure_storage_analysis_enhanced_<date>.xlsx`
- Summary and recommendations are included in the report

## Customization
- Modify or extend modules in `azure_storage_analysis/` to adjust analysis logic, reporting, or add new features
- Update the CLI (`cli.py`) to support additional options or workflows

## Support
For questions or suggestions, please open an issue on the GitHub repository.

---

**Author:** Prashant Kumar
**Repository:** [Azure-Storage-Analysis](https://github.com/PrashantAHD/Azure-Storage-Analysis)
